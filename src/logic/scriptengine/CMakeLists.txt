
INCLUDE_DIRECTORIES(
    "${PROJECT_SOURCE_DIR}/src/API"
    "${PROJECT_SOURCE_DIR}/src/public"
    "${PROJECT_SOURCE_DIR}/src/public/tinyxml"
    "${PROJECT_SOURCE_DIR}/src/logic/interface"
    )

if (JIT)
SET(LUASRC
	"${PROJECT_SOURCE_DIR}/src/logic/scriptengine/luajit/lauxlib.h"
	"${PROJECT_SOURCE_DIR}/src/logic/scriptengine/luajit/lib_aux.c"
	"${PROJECT_SOURCE_DIR}/src/logic/scriptengine/luajit/lib_base.c"
	"${PROJECT_SOURCE_DIR}/src/logic/scriptengine/luajit/lib_bit.c"
	"${PROJECT_SOURCE_DIR}/src/logic/scriptengine/luajit/lib_debug.c"
	"${PROJECT_SOURCE_DIR}/src/logic/scriptengine/luajit/lib_ffi.c"
	"${PROJECT_SOURCE_DIR}/src/logic/scriptengine/luajit/lib_init.c"
	"${PROJECT_SOURCE_DIR}/src/logic/scriptengine/luajit/lib_io.c"
	"${PROJECT_SOURCE_DIR}/src/logic/scriptengine/luajit/lib_jit.c"
	"${PROJECT_SOURCE_DIR}/src/logic/scriptengine/luajit/lib_math.c"
	"${PROJECT_SOURCE_DIR}/src/logic/scriptengine/luajit/lib_os.c"
	"${PROJECT_SOURCE_DIR}/src/logic/scriptengine/luajit/lib_package.c"
	"${PROJECT_SOURCE_DIR}/src/logic/scriptengine/luajit/lib_string.c"
	"${PROJECT_SOURCE_DIR}/src/logic/scriptengine/luajit/lib_table.c"
	"${PROJECT_SOURCE_DIR}/src/logic/scriptengine/luajit/ljamalg.c"
	"${PROJECT_SOURCE_DIR}/src/logic/scriptengine/luajit/lj_alloc.c"
	"${PROJECT_SOURCE_DIR}/src/logic/scriptengine/luajit/lj_alloc.h"
	"${PROJECT_SOURCE_DIR}/src/logic/scriptengine/luajit/lj_api.c"
	"${PROJECT_SOURCE_DIR}/src/logic/scriptengine/luajit/lj_arch.h"
	"${PROJECT_SOURCE_DIR}/src/logic/scriptengine/luajit/lj_asm.c"
	"${PROJECT_SOURCE_DIR}/src/logic/scriptengine/luajit/lj_asm.h"
	"${PROJECT_SOURCE_DIR}/src/logic/scriptengine/luajit/lj_asm_arm.h"
	"${PROJECT_SOURCE_DIR}/src/logic/scriptengine/luajit/lj_asm_mips.h"
	"${PROJECT_SOURCE_DIR}/src/logic/scriptengine/luajit/lj_asm_ppc.h"
	"${PROJECT_SOURCE_DIR}/src/logic/scriptengine/luajit/lj_asm_x86.h"
	"${PROJECT_SOURCE_DIR}/src/logic/scriptengine/luajit/lj_bc.c"
	"${PROJECT_SOURCE_DIR}/src/logic/scriptengine/luajit/lj_bc.h"
	"${PROJECT_SOURCE_DIR}/src/logic/scriptengine/luajit/lj_bcdump.h"
	"${PROJECT_SOURCE_DIR}/src/logic/scriptengine/luajit/lj_bcread.c"
	"${PROJECT_SOURCE_DIR}/src/logic/scriptengine/luajit/lj_bcwrite.c"
	"${PROJECT_SOURCE_DIR}/src/logic/scriptengine/luajit/lj_buf.c"
	"${PROJECT_SOURCE_DIR}/src/logic/scriptengine/luajit/lj_buf.h"
	"${PROJECT_SOURCE_DIR}/src/logic/scriptengine/luajit/lj_carith.c"
	"${PROJECT_SOURCE_DIR}/src/logic/scriptengine/luajit/lj_carith.h"
	"${PROJECT_SOURCE_DIR}/src/logic/scriptengine/luajit/lj_ccall.c"
	"${PROJECT_SOURCE_DIR}/src/logic/scriptengine/luajit/lj_ccall.h"
	"${PROJECT_SOURCE_DIR}/src/logic/scriptengine/luajit/lj_ccallback.c"
	"${PROJECT_SOURCE_DIR}/src/logic/scriptengine/luajit/lj_ccallback.h"
	"${PROJECT_SOURCE_DIR}/src/logic/scriptengine/luajit/lj_cconv.c"
	"${PROJECT_SOURCE_DIR}/src/logic/scriptengine/luajit/lj_cconv.h"
	"${PROJECT_SOURCE_DIR}/src/logic/scriptengine/luajit/lj_cdata.c"
	"${PROJECT_SOURCE_DIR}/src/logic/scriptengine/luajit/lj_cdata.h"
	"${PROJECT_SOURCE_DIR}/src/logic/scriptengine/luajit/lj_char.c"
	"${PROJECT_SOURCE_DIR}/src/logic/scriptengine/luajit/lj_char.h"
	"${PROJECT_SOURCE_DIR}/src/logic/scriptengine/luajit/lj_clib.c"
	"${PROJECT_SOURCE_DIR}/src/logic/scriptengine/luajit/lj_clib.h"
	"${PROJECT_SOURCE_DIR}/src/logic/scriptengine/luajit/lj_cparse.c"
	"${PROJECT_SOURCE_DIR}/src/logic/scriptengine/luajit/lj_cparse.h"
	"${PROJECT_SOURCE_DIR}/src/logic/scriptengine/luajit/lj_crecord.c"
	"${PROJECT_SOURCE_DIR}/src/logic/scriptengine/luajit/lj_crecord.h"
	"${PROJECT_SOURCE_DIR}/src/logic/scriptengine/luajit/lj_ctype.c"
	"${PROJECT_SOURCE_DIR}/src/logic/scriptengine/luajit/lj_ctype.h"
	"${PROJECT_SOURCE_DIR}/src/logic/scriptengine/luajit/lj_debug.c"
	"${PROJECT_SOURCE_DIR}/src/logic/scriptengine/luajit/lj_debug.h"
	"${PROJECT_SOURCE_DIR}/src/logic/scriptengine/luajit/lj_def.h"
	"${PROJECT_SOURCE_DIR}/src/logic/scriptengine/luajit/lj_dispatch.c"
	"${PROJECT_SOURCE_DIR}/src/logic/scriptengine/luajit/lj_dispatch.h"
	"${PROJECT_SOURCE_DIR}/src/logic/scriptengine/luajit/lj_emit_arm.h"
	"${PROJECT_SOURCE_DIR}/src/logic/scriptengine/luajit/lj_emit_mips.h"
	"${PROJECT_SOURCE_DIR}/src/logic/scriptengine/luajit/lj_emit_ppc.h"
	"${PROJECT_SOURCE_DIR}/src/logic/scriptengine/luajit/lj_emit_x86.h"
	"${PROJECT_SOURCE_DIR}/src/logic/scriptengine/luajit/lj_err.c"
	"${PROJECT_SOURCE_DIR}/src/logic/scriptengine/luajit/lj_err.h"
	"${PROJECT_SOURCE_DIR}/src/logic/scriptengine/luajit/lj_errmsg.h"
	"${PROJECT_SOURCE_DIR}/src/logic/scriptengine/luajit/lj_ff.h"
	"${PROJECT_SOURCE_DIR}/src/logic/scriptengine/luajit/lj_ffrecord.c"
	"${PROJECT_SOURCE_DIR}/src/logic/scriptengine/luajit/lj_ffrecord.h"
	"${PROJECT_SOURCE_DIR}/src/logic/scriptengine/luajit/lj_frame.h"
	"${PROJECT_SOURCE_DIR}/src/logic/scriptengine/luajit/lj_func.c"
	"${PROJECT_SOURCE_DIR}/src/logic/scriptengine/luajit/lj_func.h"
	"${PROJECT_SOURCE_DIR}/src/logic/scriptengine/luajit/lj_gc.c"
	"${PROJECT_SOURCE_DIR}/src/logic/scriptengine/luajit/lj_gc.h"
	"${PROJECT_SOURCE_DIR}/src/logic/scriptengine/luajit/lj_gdbjit.c"
	"${PROJECT_SOURCE_DIR}/src/logic/scriptengine/luajit/lj_gdbjit.h"
	"${PROJECT_SOURCE_DIR}/src/logic/scriptengine/luajit/lj_ir.c"
	"${PROJECT_SOURCE_DIR}/src/logic/scriptengine/luajit/lj_ir.h"
	"${PROJECT_SOURCE_DIR}/src/logic/scriptengine/luajit/lj_ircall.h"
	"${PROJECT_SOURCE_DIR}/src/logic/scriptengine/luajit/lj_iropt.h"
	"${PROJECT_SOURCE_DIR}/src/logic/scriptengine/luajit/lj_jit.h"
	"${PROJECT_SOURCE_DIR}/src/logic/scriptengine/luajit/lj_lex.c"
	"${PROJECT_SOURCE_DIR}/src/logic/scriptengine/luajit/lj_lex.h"
	"${PROJECT_SOURCE_DIR}/src/logic/scriptengine/luajit/lj_lib.c"
	"${PROJECT_SOURCE_DIR}/src/logic/scriptengine/luajit/lj_lib.h"
	"${PROJECT_SOURCE_DIR}/src/logic/scriptengine/luajit/lj_load.c"
	"${PROJECT_SOURCE_DIR}/src/logic/scriptengine/luajit/lj_mcode.c"
	"${PROJECT_SOURCE_DIR}/src/logic/scriptengine/luajit/lj_mcode.h"
	"${PROJECT_SOURCE_DIR}/src/logic/scriptengine/luajit/lj_meta.c"
	"${PROJECT_SOURCE_DIR}/src/logic/scriptengine/luajit/lj_meta.h"
	"${PROJECT_SOURCE_DIR}/src/logic/scriptengine/luajit/lj_obj.c"
	"${PROJECT_SOURCE_DIR}/src/logic/scriptengine/luajit/lj_obj.h"
	"${PROJECT_SOURCE_DIR}/src/logic/scriptengine/luajit/lj_opt_dce.c"
	"${PROJECT_SOURCE_DIR}/src/logic/scriptengine/luajit/lj_opt_fold.c"
	"${PROJECT_SOURCE_DIR}/src/logic/scriptengine/luajit/lj_opt_loop.c"
	"${PROJECT_SOURCE_DIR}/src/logic/scriptengine/luajit/lj_opt_mem.c"
	"${PROJECT_SOURCE_DIR}/src/logic/scriptengine/luajit/lj_opt_narrow.c"
	"${PROJECT_SOURCE_DIR}/src/logic/scriptengine/luajit/lj_opt_sink.c"
	"${PROJECT_SOURCE_DIR}/src/logic/scriptengine/luajit/lj_opt_split.c"
	"${PROJECT_SOURCE_DIR}/src/logic/scriptengine/luajit/lj_parse.c"
	"${PROJECT_SOURCE_DIR}/src/logic/scriptengine/luajit/lj_parse.h"
	"${PROJECT_SOURCE_DIR}/src/logic/scriptengine/luajit/lj_profile.c"
	"${PROJECT_SOURCE_DIR}/src/logic/scriptengine/luajit/lj_profile.h"
	"${PROJECT_SOURCE_DIR}/src/logic/scriptengine/luajit/lj_record.c"
	"${PROJECT_SOURCE_DIR}/src/logic/scriptengine/luajit/lj_record.h"
	"${PROJECT_SOURCE_DIR}/src/logic/scriptengine/luajit/lj_snap.c"
	"${PROJECT_SOURCE_DIR}/src/logic/scriptengine/luajit/lj_snap.h"
	"${PROJECT_SOURCE_DIR}/src/logic/scriptengine/luajit/lj_state.c"
	"${PROJECT_SOURCE_DIR}/src/logic/scriptengine/luajit/lj_state.h"
	"${PROJECT_SOURCE_DIR}/src/logic/scriptengine/luajit/lj_str.c"
	"${PROJECT_SOURCE_DIR}/src/logic/scriptengine/luajit/lj_str.h"
	"${PROJECT_SOURCE_DIR}/src/logic/scriptengine/luajit/lj_strfmt.c"
	"${PROJECT_SOURCE_DIR}/src/logic/scriptengine/luajit/lj_strfmt.h"
	"${PROJECT_SOURCE_DIR}/src/logic/scriptengine/luajit/lj_strscan.c"
	"${PROJECT_SOURCE_DIR}/src/logic/scriptengine/luajit/lj_strscan.h"
	"${PROJECT_SOURCE_DIR}/src/logic/scriptengine/luajit/lj_tab.c"
	"${PROJECT_SOURCE_DIR}/src/logic/scriptengine/luajit/lj_tab.h"
	"${PROJECT_SOURCE_DIR}/src/logic/scriptengine/luajit/lj_target.h"
	"${PROJECT_SOURCE_DIR}/src/logic/scriptengine/luajit/lj_target_arm.h"
	"${PROJECT_SOURCE_DIR}/src/logic/scriptengine/luajit/lj_target_arm64.h"
	"${PROJECT_SOURCE_DIR}/src/logic/scriptengine/luajit/lj_target_mips.h"
	"${PROJECT_SOURCE_DIR}/src/logic/scriptengine/luajit/lj_target_ppc.h"
	"${PROJECT_SOURCE_DIR}/src/logic/scriptengine/luajit/lj_target_x86.h"
	"${PROJECT_SOURCE_DIR}/src/logic/scriptengine/luajit/lj_trace.c"
	"${PROJECT_SOURCE_DIR}/src/logic/scriptengine/luajit/lj_trace.h"
	"${PROJECT_SOURCE_DIR}/src/logic/scriptengine/luajit/lj_traceerr.h"
	"${PROJECT_SOURCE_DIR}/src/logic/scriptengine/luajit/lj_udata.c"
	"${PROJECT_SOURCE_DIR}/src/logic/scriptengine/luajit/lj_udata.h"
	"${PROJECT_SOURCE_DIR}/src/logic/scriptengine/luajit/lj_vm.h"
	"${PROJECT_SOURCE_DIR}/src/logic/scriptengine/luajit/lj_vmevent.c"
	"${PROJECT_SOURCE_DIR}/src/logic/scriptengine/luajit/lj_vmevent.h"
	"${PROJECT_SOURCE_DIR}/src/logic/scriptengine/luajit/lj_vmmath.c"
	"${PROJECT_SOURCE_DIR}/src/logic/scriptengine/luajit/lua.h"
	"${PROJECT_SOURCE_DIR}/src/logic/scriptengine/luajit/lua.hpp"
	"${PROJECT_SOURCE_DIR}/src/logic/scriptengine/luajit/luaconf.h"
	"${PROJECT_SOURCE_DIR}/src/logic/scriptengine/luajit/luajit.h"
	"${PROJECT_SOURCE_DIR}/src/logic/scriptengine/luajit/lualib.h"
)
ADD_DEFINITIONS(-DLUAJIT)
ELSE()
SET(LUASRC
    "${PROJECT_SOURCE_DIR}/src/logic/scriptengine/lua/lapi.c"
    "${PROJECT_SOURCE_DIR}/src/logic/scriptengine/lua/lapi.h"
    "${PROJECT_SOURCE_DIR}/src/logic/scriptengine/lua/lauxlib.c"
    "${PROJECT_SOURCE_DIR}/src/logic/scriptengine/lua/lauxlib.h"
    "${PROJECT_SOURCE_DIR}/src/logic/scriptengine/lua/lbaselib.c"
    "${PROJECT_SOURCE_DIR}/src/logic/scriptengine/lua/lbitlib.c"
    "${PROJECT_SOURCE_DIR}/src/logic/scriptengine/lua/lcode.c"
    "${PROJECT_SOURCE_DIR}/src/logic/scriptengine/lua/lcode.h"
    "${PROJECT_SOURCE_DIR}/src/logic/scriptengine/lua/lcorolib.c"
    "${PROJECT_SOURCE_DIR}/src/logic/scriptengine/lua/lctype.c"
    "${PROJECT_SOURCE_DIR}/src/logic/scriptengine/lua/lctype.h"
    "${PROJECT_SOURCE_DIR}/src/logic/scriptengine/lua/ldblib.c"
    "${PROJECT_SOURCE_DIR}/src/logic/scriptengine/lua/ldebug.c"
    "${PROJECT_SOURCE_DIR}/src/logic/scriptengine/lua/ldebug.h"
    "${PROJECT_SOURCE_DIR}/src/logic/scriptengine/lua/ldo.c"
    "${PROJECT_SOURCE_DIR}/src/logic/scriptengine/lua/ldo.h"
    "${PROJECT_SOURCE_DIR}/src/logic/scriptengine/lua/ldump.c"
    "${PROJECT_SOURCE_DIR}/src/logic/scriptengine/lua/lfunc.c"
    "${PROJECT_SOURCE_DIR}/src/logic/scriptengine/lua/lfunc.h"
    "${PROJECT_SOURCE_DIR}/src/logic/scriptengine/lua/lgc.c"
    "${PROJECT_SOURCE_DIR}/src/logic/scriptengine/lua/lgc.h"
    "${PROJECT_SOURCE_DIR}/src/logic/scriptengine/lua/linit.c"
    "${PROJECT_SOURCE_DIR}/src/logic/scriptengine/lua/liolib.c"
    "${PROJECT_SOURCE_DIR}/src/logic/scriptengine/lua/llex.c"
    "${PROJECT_SOURCE_DIR}/src/logic/scriptengine/lua/llex.h"
    "${PROJECT_SOURCE_DIR}/src/logic/scriptengine/lua/llimits.h"
    "${PROJECT_SOURCE_DIR}/src/logic/scriptengine/lua/lmathlib.c"
    "${PROJECT_SOURCE_DIR}/src/logic/scriptengine/lua/lmem.c"
    "${PROJECT_SOURCE_DIR}/src/logic/scriptengine/lua/lmem.h"
    "${PROJECT_SOURCE_DIR}/src/logic/scriptengine/lua/loadlib.c"
    "${PROJECT_SOURCE_DIR}/src/logic/scriptengine/lua/lobject.c"
    "${PROJECT_SOURCE_DIR}/src/logic/scriptengine/lua/lobject.h"
    "${PROJECT_SOURCE_DIR}/src/logic/scriptengine/lua/lopcodes.c"
    "${PROJECT_SOURCE_DIR}/src/logic/scriptengine/lua/lopcodes.h"
    "${PROJECT_SOURCE_DIR}/src/logic/scriptengine/lua/loslib.c"
    "${PROJECT_SOURCE_DIR}/src/logic/scriptengine/lua/lparser.c"
    "${PROJECT_SOURCE_DIR}/src/logic/scriptengine/lua/lparser.h"
    "${PROJECT_SOURCE_DIR}/src/logic/scriptengine/lua/lprefix.h"
    "${PROJECT_SOURCE_DIR}/src/logic/scriptengine/lua/lstate.c"
    "${PROJECT_SOURCE_DIR}/src/logic/scriptengine/lua/lstate.h"
    "${PROJECT_SOURCE_DIR}/src/logic/scriptengine/lua/lstring.c"
    "${PROJECT_SOURCE_DIR}/src/logic/scriptengine/lua/lstring.h"
    "${PROJECT_SOURCE_DIR}/src/logic/scriptengine/lua/lstrlib.c"
    "${PROJECT_SOURCE_DIR}/src/logic/scriptengine/lua/ltable.c"
    "${PROJECT_SOURCE_DIR}/src/logic/scriptengine/lua/ltable.h"
    "${PROJECT_SOURCE_DIR}/src/logic/scriptengine/lua/ltablib.c"
    "${PROJECT_SOURCE_DIR}/src/logic/scriptengine/lua/ltm.c"
    "${PROJECT_SOURCE_DIR}/src/logic/scriptengine/lua/ltm.h"
    "${PROJECT_SOURCE_DIR}/src/logic/scriptengine/lua/lua.h"
    "${PROJECT_SOURCE_DIR}/src/logic/scriptengine/lua/lua.hpp"
    "${PROJECT_SOURCE_DIR}/src/logic/scriptengine/lua/luaconf.h"
    "${PROJECT_SOURCE_DIR}/src/logic/scriptengine/lua/lualib.h"
    "${PROJECT_SOURCE_DIR}/src/logic/scriptengine/lua/lundump.c"
    "${PROJECT_SOURCE_DIR}/src/logic/scriptengine/lua/lundump.h"
    "${PROJECT_SOURCE_DIR}/src/logic/scriptengine/lua/lutf8lib.c"
    "${PROJECT_SOURCE_DIR}/src/logic/scriptengine/lua/lvm.c"
    "${PROJECT_SOURCE_DIR}/src/logic/scriptengine/lua/lvm.h"
    "${PROJECT_SOURCE_DIR}/src/logic/scriptengine/lua/lzio.c"
    "${PROJECT_SOURCE_DIR}/src/logic/scriptengine/lua/lzio.h"
    )
ENDIF()

SET(SCRIPTENGINE
    "${PROJECT_SOURCE_DIR}/src/logic/scriptengine/ScriptEngine.h"
    "${PROJECT_SOURCE_DIR}/src/logic/scriptengine/ScriptEngine.cpp"
	"${PROJECT_SOURCE_DIR}/src/logic/scriptengine/serialize.h"
    "${PROJECT_SOURCE_DIR}/src/logic/scriptengine/serialize.cpp"
	"${PROJECT_SOURCE_DIR}/src/logic/scriptengine/tick.h"
    "${PROJECT_SOURCE_DIR}/src/logic/scriptengine/tick.cpp"
	"${PROJECT_SOURCE_DIR}/src/logic/scriptengine/buffer.h"
    "${PROJECT_SOURCE_DIR}/src/logic/scriptengine/buffer.cpp"
    "${PROJECT_SOURCE_DIR}/src/logic/scriptengine/main.cpp"
    )

SOURCE_GROUP(interface FILES ${LOGIC_INTERFACE})
SOURCE_GROUP(API FILES ${API})
SOURCE_GROUP(public\\tinyxml FILES ${PUBLIC_XML})
SOURCE_GROUP(public FILES ${PUBLIC})
if (JIT)
SOURCE_GROUP(luajit FILES ${LUASRC})
ELSE()
SOURCE_GROUP(lua FILES ${LUASRC})
ENDIF()
SOURCE_GROUP(\\ FILES ${SCRIPTENGINE})

ADD_LIBRARY(ScriptEngine SHARED
        ${SCRIPTENGINE}
        ${LUASRC}
        ${API}
        ${LOGIC_INTERFACE}
        ${PUBLIC}
        ${PUBLIC_XML}
        )


